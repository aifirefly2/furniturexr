import{r as n,j as e,C as R,A as k,R as w,O as L,u as C,a as z,S as A,b as f,c as E,M}from"./index-cZ1KXA3i.js";import{X as F,C as T,H as q,a as H,u as N,b as o,c as I}from"./Hands-91EvDU88.js";function D(){return n.useState(!1),n.useState("lether"),e.jsxs(e.Fragment,{children:[e.jsx(n.Suspense,{fallback:e.jsx(X,{}),children:e.jsx("div",{className:"relative canvas bg-white",children:e.jsxs(R,{shadows:!0,children:[e.jsx("ambientLight",{intensity:4}),e.jsx("spotLight",{position:[10,10,10],angle:.15,penumbra:1,decay:0,intensity:.1}),e.jsx("pointLight",{position:[-10,-10,-10],decay:0,intensity:.5}),e.jsx(k,{position:[0,-1.16,0],frames:100,alphaTest:.9,scale:10,children:e.jsx(w,{amount:8,radius:10,ambient:0,position:[1,5,-1]})}),e.jsxs(F,{children:[e.jsx(T,{}),e.jsx(q,{}),e.jsx(O,{})]}),e.jsx(L,{enablePan:!1})]})})}),e.jsxs("div",{style:{position:"absolute",bottom:40,left:"50%",marginLeft:-165,display:"flex"},children:[e.jsxs("div",{className:"inline-block text-center text-gray-400 mx-6",children:[e.jsx(H,{mode:"AR",sessionInit:{optionalFeatures:["local-floor","bounded-floor","hand-tracking","layers"],requiredFeatures:["local","hit-test"]},className:"block w-16 h-16 rounded m-auto",style:{backgroundSize:"cover",backgroundImage:'url("./ar.png")',color:"#ffffff00"}}),"Android / Meta Quest 3"]}),e.jsxs("div",{className:"inline-block  text-center text-gray-400 mx-6",children:[e.jsx("a",{href:"/chair.usdz",className:"block w-16 h-16 rounded m-auto",style:{backgroundSize:"cover",backgroundImage:'url("./ar.png")'}}),"IOS"]})]})]})}function O(i){const{scene:c,nodes:l,materials:u}=C("/chair_.glb"),a=z("/chair_E_.jpg");a.flipY=!1,a.needsUpdate=!0,a.encoding=void 0,a.colorSpace=A,u.chair_.map=a;const r=f.useRef(null),s=f.useRef(null);n.useState(null);const[x,g]=n.useState(null),[_,d]=n.useState(2390042),m=t=>{console.log("selected"),d(13404467),x.decompose(s.current.position,s.current.quaternion,s.current.scale),setTimeout(()=>{p()},100)},p=()=>{s.current.position.y-=.001};N(t=>{r.current&&(t.decompose(r.current.position,r.current.quaternion,r.current.scale),g(t))});const h=t=>{t=="right"&&(s.current.rotation.y+=.1),t=="left"&&(s.current.rotation.y-=.1),console.log("k"),d(0)};n.useLayoutEffect(()=>{Object.values(l).forEach(t=>t.isMesh&&(t.receiveShadow=t.castShadow=!0)),c.traverse(function(t){t.isMesh})},[l,u]),o("select",()=>{m()},{handedness:"right"|"left"}),o("squeeze",()=>{h("right")},{handedness:"right"}),o("squeeze",()=>{h("left")},{handedness:"left"});const j=E(({offset:[t,y],last:S})=>{const v=Math.atan2(y,t);S||s.current&&(s.current.rotation.y=v)},{pointerEvents:!0}),b=new M({color:16777215,transparent:!0,opacity:.5});return e.jsxs(e.Fragment,{children:[e.jsx("primitive",{ref:s,object:c,...i,...j()}),e.jsx(I,{ref:r,...i,args:[.1,.1,.001],material:b})]})}function X(){return e.jsx(e.Fragment,{children:e.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",fontSize:"13px",textAlign:"center",marginLeft:"-125px",marginTop:"-125px"},children:e.jsxs("p",{children:["  ",e.jsx("img",{width:250,src:"./loading.gif"})," "]})})})}export{D as default};
